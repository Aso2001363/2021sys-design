```uml
@startuml
ユーザー -> webサーバー : ログイン
webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> webサーバー : 認証結果

activate ユーザー
alt 認証成功
webサーバー -> ユーザー : ログイン画面を表示
else 認証失敗
webサーバー -> ユーザー : 失敗メッセージを表示
end
alt ログイン中
ユーザー -> webサーバー : 商品購入
webサーバー -> DBサーバー : カートの中に入れる
DBサーバー -> webサーバー : 購入処理
webサーバー -> ユーザー : 購入完了

else 未ログイン
ユーザー -> DBサーバー : ログインしてください
end
@enduml
